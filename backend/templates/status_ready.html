<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <title>Klar för deltagande!</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      background-color: #000;
      color: #58aaff;
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      padding-top: 10vh;
    }
    h1 {
      font-size: 3rem;
      margin-bottom: 1rem;
      animation: blink 1.2s infinite;
    }
    h2 {
      font-size: 1.5rem;
      margin-bottom: 2rem;
    }
    .logo {
      margin-top: 2rem;
      max-width: 400px;
      width: 90%;
      height: auto;
    }
    @keyframes blink {
      0%, 100% { color: #58aaff; }
      50% { color: #89cfff; transform: scale(1.05); }
    }
  </style>
</head>
<body>
  <!-- Confirmation text (server-injected name via Jinja2/FastAPI) -->
  <h1 id="namn">✅ {{ namn }} är klar för deltagande!</h1>
  <h2>Välkommen till turneringen – du är incheckad och godkänd.</h2>

  <!-- Logo -->
  <img src="/static/logo.png" alt="FGC Trollhättan" class="logo" />

  <!-- Sound clip that plays upon arrival -->
  <audio id="klarLjud" autoplay>
    <source src="/static/clear.mp3" type="audio/mpeg">
    Din webbläsare stöder inte ljuduppspelning.
  </audio>

  <script>
    // Audio: set volume and handle autoplay errors
    const audioEl = document.getElementById("klarLjud");
    audioEl.volume = 0.8;

    // Optional: log if playback fails (e.g., user gesture required on some browsers)
    audioEl.addEventListener("error", () => {
      console.warn("❌ Could not play the confirmation sound.");
    });

    // Optional fallback: try replay after a short delay if needed
    // setTimeout(() => audioEl.play().catch(() => {}), 1200);
  </script>
</body>
</html>
